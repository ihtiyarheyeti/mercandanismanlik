var e=(e,a,l)=>new Promise(((t,s)=>{var i=e=>{try{o(l.next(e))}catch(a){s(a)}},n=e=>{try{o(l.throw(e))}catch(a){s(a)}},o=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,n);o((l=l.apply(e,a)).next())}));import{d as a,r as l,o as t,f as s,e as i,h as n,g as o,l as u,V as r,v as d}from"./vendor-D5JAeVAb.js";import{b as c,a as y,c as m}from"./index-C5NznVKu.js";import"./utils-B_Ca612b.js";import"./animations-DE14wExU.js";import"./charts-DqdvykD8.js";const p={class:"p-6"},v={key:0,class:"flex items-center justify-center min-h-[200px]"},g={key:1},b={class:"bg-white p-6 rounded-lg shadow-md mb-6"},f={class:"grid grid-cols-2 gap-4"},k={class:"flex items-center space-x-4"},x=["src"],h={class:"flex flex-col space-y-2"},S={class:"flex space-x-2"},w=["disabled"],H={key:0},O={key:1},V=["disabled"],A={key:0},F={key:1},N={key:0,class:"mt-2 text-sm text-gray-500"},U={class:"flex items-center space-x-4"},C=["src"],D={class:"flex flex-col space-y-2"},E={class:"flex space-x-2"},T=["disabled"],L={key:0},j={key:1},K=["disabled"],W={key:0},I={key:1},_={key:0,class:"mt-2 text-sm text-gray-500"},B={class:"bg-white p-6 rounded-lg shadow-md mb-6"},P={class:"mb-4"},J={class:"mb-4"},Y={class:"bg-white p-6 rounded-lg shadow-md mb-6"},z={class:"mb-4"},G={class:"mb-4"},q={class:"mb-4"},M={class:"bg-white p-6 rounded-lg shadow-md mb-6"},Q={class:"mb-4"},R={class:"mb-4"},X={class:"flex items-center mb-2"},Z={class:"flex items-center"},$=["disabled"],ee={class:"mb-4"},ae={class:"flex items-center mb-2"},le={class:"flex items-center"},te=["disabled"],se={class:"flex justify-end"},ie=["disabled"],ne={key:0},oe={key:1},ue=a({__name:"SiteSettingsView",setup(a){const ue=c(),re=l(!1),de=l(null),ce=l(null),ye=l(null),me=l(null);l(null),l(null);const pe=l(!1),ve=l(!1),ge=l(!1),be=l({logo:null,favicon:null,siteTitle:"",siteDescription:"",contactEmail:"",phoneNumber:"",address:"",workingHoursWeekday:"",workingHoursSaturday:"",workingHoursSunday:"",isOpenSaturday:!1,isOpenSunday:!1}),fe=y(),ke=()=>{de.value&&de.value.click()},xe=()=>{ce.value&&ce.value.click()},he=a=>e(this,null,(function*(){const e=a.target;e.files&&e.files[0]&&(ye.value=e.files[0])})),Se=()=>e(this,null,(function*(){var e,a;if(!ye.value)return;const l=new FormData;l.append("logo",ye.value);try{pe.value=!0;const e=yield m.post("/admin/settings/logo",l);be.value.logo=e.data.logo,ye.value=null,yield fe.fetchSettings(),ue.success("Logo başarıyla yüklendi")}catch(t){ue.error((null==(a=null==(e=t.response)?void 0:e.data)?void 0:a.message)||"Logo yüklenirken bir hata oluştu")}finally{pe.value=!1}})),we=a=>e(this,null,(function*(){const e=a.target;e.files&&e.files[0]&&(me.value=e.files[0])})),He=()=>e(this,null,(function*(){var e,a;if(!me.value)return;const l=new FormData;l.append("favicon",me.value);try{ve.value=!0;const e=yield m.post("/admin/settings/favicon",l);be.value.favicon=e.data.favicon,me.value=null,yield fe.fetchSettings(),ue.success("Favicon başarıyla yüklendi")}catch(t){ue.error((null==(a=null==(e=t.response)?void 0:e.data)?void 0:a.message)||"Favicon yüklenirken bir hata oluştu")}finally{ve.value=!1}})),Oe=()=>e(this,null,(function*(){try{re.value=!0;const e={siteTitle:be.value.siteTitle,siteDescription:be.value.siteDescription,contactEmail:be.value.contactEmail,phoneNumber:be.value.phoneNumber,address:be.value.address,workingHoursWeekday:be.value.workingHoursWeekday,workingHoursSaturday:be.value.workingHoursSaturday,workingHoursSunday:be.value.workingHoursSunday,isOpenSaturday:be.value.isOpenSaturday,isOpenSunday:be.value.isOpenSunday};yield fe.updateContactInfo(e),ue.success("İletişim bilgileri başarıyla güncellendi")}catch(e){ue.error("İletişim bilgileri güncellenirken bir hata oluştu")}finally{re.value=!1}})),Ve=()=>e(this,null,(function*(){ge.value=!0;try{yield Oe()}catch(e){ue.error("Ayarlar kaydedilirken bir hata oluştu")}finally{ge.value=!1}}));return t((()=>e(this,null,(function*(){re.value=!0;try{const e=localStorage.getItem("siteSettings");if(e){const a=JSON.parse(e);be.value=a}yield fe.fetchSettings();const a={logo:fe.logo,favicon:fe.favicon,siteTitle:fe.siteTitle,siteDescription:fe.siteDescription,contactEmail:fe.contactEmail,phoneNumber:fe.phoneNumber,address:fe.address,workingHoursWeekday:fe.workingHoursWeekday,workingHoursSaturday:fe.workingHoursSaturday,workingHoursSunday:fe.workingHoursSunday,isOpenSaturday:fe.isOpenSaturday,isOpenSunday:fe.isOpenSunday};be.value=a,localStorage.setItem("siteSettings",JSON.stringify(a))}catch(e){ue.error("Ayarlar yüklenirken bir hata oluştu")}finally{re.value=!1}})))),(e,a)=>(i(),s("div",p,[re.value?(i(),s("div",v,a[10]||(a[10]=[n("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"},null,-1)]))):(i(),s("div",g,[a[27]||(a[27]=n("h2",{class:"text-2xl font-semibold mb-6"},"Site Ayarları",-1)),n("div",b,[a[13]||(a[13]=n("h3",{class:"text-lg font-semibold mb-4"},"Logo ve Favicon",-1)),n("div",f,[n("div",null,[a[11]||(a[11]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Site Logo ",-1)),n("div",k,[be.value.logo?(i(),s("img",{key:0,src:be.value.logo,alt:"Site Logo",class:"h-12 w-auto"},null,8,x)):o("",!0),n("div",h,[n("input",{type:"file",accept:"image/*",class:"hidden",ref_key:"logoInput",ref:de,onChange:he},null,544),n("div",S,[n("button",{onClick:ke,disabled:pe.value,class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 disabled:opacity-50"},[pe.value?(i(),s("span",H,"Yükleniyor...")):(i(),s("span",O,"Logo Seç"))],8,w),ye.value?(i(),s("button",{key:0,onClick:Se,disabled:pe.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50"},[pe.value?(i(),s("span",A,"Kaydediliyor...")):(i(),s("span",F,"Logo Kaydet"))],8,V)):o("",!0)])])]),pe.value?(i(),s("p",N,"Logo yükleniyor, lütfen bekleyin...")):o("",!0)]),n("div",null,[a[12]||(a[12]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Favicon ",-1)),n("div",U,[be.value.favicon?(i(),s("img",{key:0,src:be.value.favicon,alt:"Favicon",class:"h-8 w-8"},null,8,C)):o("",!0),n("div",D,[n("input",{type:"file",accept:"image/x-icon,image/png",class:"hidden",ref_key:"faviconInput",ref:ce,onChange:we},null,544),n("div",E,[n("button",{onClick:xe,disabled:ve.value,class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 disabled:opacity-50"},[ve.value?(i(),s("span",L,"Yükleniyor...")):(i(),s("span",j,"Favicon Seç"))],8,T),me.value?(i(),s("button",{key:0,onClick:He,disabled:ve.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50"},[ve.value?(i(),s("span",W,"Kaydediliyor...")):(i(),s("span",I,"Favicon Kaydet"))],8,K)):o("",!0)])])]),ve.value?(i(),s("p",_,"Favicon yükleniyor, lütfen bekleyin...")):o("",!0)])])]),n("div",B,[a[16]||(a[16]=n("h3",{class:"text-lg font-semibold mb-4"},"Genel Bilgiler",-1)),n("div",P,[a[14]||(a[14]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Site Başlığı ",-1)),u(n("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>be.value.siteTitle=e),type:"text",class:"input w-full",placeholder:"Site başlığını girin"},null,512),[[r,be.value.siteTitle]])]),n("div",J,[a[15]||(a[15]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Site Açıklaması ",-1)),u(n("textarea",{"onUpdate:modelValue":a[1]||(a[1]=e=>be.value.siteDescription=e),rows:"3",class:"input w-full",placeholder:"Site açıklamasını girin"},null,512),[[r,be.value.siteDescription]])])]),n("div",Y,[a[20]||(a[20]=n("h3",{class:"text-lg font-semibold mb-4"},"İletişim Bilgileri",-1)),n("div",z,[a[17]||(a[17]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," E-posta Adresi ",-1)),u(n("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>be.value.contactEmail=e),type:"email",class:"input w-full",placeholder:"E-posta adresini girin"},null,512),[[r,be.value.contactEmail]])]),n("div",G,[a[18]||(a[18]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Telefon Numarası ",-1)),u(n("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>be.value.phoneNumber=e),type:"text",class:"input w-full",placeholder:"Telefon numarasını girin"},null,512),[[r,be.value.phoneNumber]])]),n("div",q,[a[19]||(a[19]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Adres ",-1)),u(n("textarea",{"onUpdate:modelValue":a[4]||(a[4]=e=>be.value.address=e),rows:"3",class:"input w-full",placeholder:"Adres bilgisini girin"},null,512),[[r,be.value.address]])])]),n("div",M,[a[26]||(a[26]=n("h3",{class:"text-lg font-semibold mb-4"},"Çalışma Saatleri",-1)),n("div",Q,[a[21]||(a[21]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Hafta İçi Çalışma Saatleri ",-1)),u(n("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>be.value.workingHoursWeekday=e),type:"text",class:"input w-full",placeholder:"Örn: 09:00 - 18:00"},null,512),[[r,be.value.workingHoursWeekday]])]),n("div",R,[n("div",X,[a[23]||(a[23]=n("label",{class:"text-sm font-medium text-gray-700 flex-grow"}," Cumartesi Çalışma Saatleri ",-1)),n("div",Z,[u(n("input",{"onUpdate:modelValue":a[6]||(a[6]=e=>be.value.isOpenSaturday=e),type:"checkbox",class:"mr-2"},null,512),[[d,be.value.isOpenSaturday]]),a[22]||(a[22]=n("span",{class:"text-sm text-gray-600"},"Açık",-1))])]),u(n("input",{"onUpdate:modelValue":a[7]||(a[7]=e=>be.value.workingHoursSaturday=e),type:"text",class:"input w-full",placeholder:"Örn: 09:00 - 14:00",disabled:!be.value.isOpenSaturday},null,8,$),[[r,be.value.workingHoursSaturday]])]),n("div",ee,[n("div",ae,[a[25]||(a[25]=n("label",{class:"text-sm font-medium text-gray-700 flex-grow"}," Pazar Çalışma Saatleri ",-1)),n("div",le,[u(n("input",{"onUpdate:modelValue":a[8]||(a[8]=e=>be.value.isOpenSunday=e),type:"checkbox",class:"mr-2"},null,512),[[d,be.value.isOpenSunday]]),a[24]||(a[24]=n("span",{class:"text-sm text-gray-600"},"Açık",-1))])]),u(n("input",{"onUpdate:modelValue":a[9]||(a[9]=e=>be.value.workingHoursSunday=e),type:"text",class:"input w-full",placeholder:"Örn: Kapalı",disabled:!be.value.isOpenSunday},null,8,te),[[r,be.value.workingHoursSunday]])])]),n("div",se,[n("button",{onClick:Ve,disabled:re.value,class:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50"},[re.value?(i(),s("span",ne,"Kaydediliyor...")):(i(),s("span",oe,"Ayarları Kaydet"))],8,ie)])]))]))}});export{ue as default};
