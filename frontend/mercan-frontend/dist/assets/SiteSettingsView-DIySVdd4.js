import{d as D,r,o as N,f as o,e as i,h as t,g,l as d,W as y,v as S}from"./vendor-QJmmmWrr.js";import{b as T,a as E,c as w}from"./index-D2wNGwbS.js";const U={class:"p-6"},W={key:0,class:"flex items-center justify-center min-h-[200px]"},I={key:1},K={class:"bg-white p-6 rounded-lg shadow-md mb-6"},B={class:"grid grid-cols-2 gap-4"},M={class:"flex items-center space-x-4"},j=["src"],G={class:"flex flex-col space-y-2"},J={class:"flex space-x-2"},Y=["disabled"],z={key:0},P={key:1},q=["disabled"],Q={key:0},R={key:1},X={key:0,class:"mt-2 text-sm text-gray-500"},Z={class:"flex items-center space-x-4"},$=["src"],ee={class:"flex flex-col space-y-2"},te={class:"flex space-x-2"},se=["disabled"],ae={key:0},le={key:1},oe=["disabled"],ie={key:0},ne={key:1},re={key:0,class:"mt-2 text-sm text-gray-500"},de={class:"bg-white p-6 rounded-lg shadow-md mb-6"},ue={class:"mb-4"},ce={class:"mb-4"},ye={class:"bg-white p-6 rounded-lg shadow-md mb-6"},me={class:"mb-4"},pe={class:"mb-4"},ve={class:"mb-4"},ge={class:"bg-white p-6 rounded-lg shadow-md mb-6"},be={class:"mb-4"},fe={class:"mb-4"},ke={class:"flex items-center mb-2"},xe={class:"flex items-center"},he=["disabled"],Se={class:"mb-4"},we={class:"flex items-center mb-2"},_e={class:"flex items-center"},He=["disabled"],Oe={class:"flex justify-end"},Ce=["disabled"],Fe={key:0},Le={key:1},Ne=D({__name:"SiteSettingsView",setup(Ve){const c=T(),m=r(!1),k=r(null),x=r(null),b=r(null),f=r(null);r(null),r(null);const p=r(!1),v=r(!1),h=r(!1),s=r({logo:null,favicon:null,siteTitle:"",siteDescription:"",contactEmail:"",phoneNumber:"",address:"",workingHoursWeekday:"",workingHoursSaturday:"",workingHoursSunday:"",isOpenSaturday:!1,isOpenSunday:!1}),n=E(),_=()=>{k.value&&k.value.click()},H=()=>{x.value&&x.value.click()},O=async l=>{const e=l.target;e.files&&e.files[0]&&(b.value=e.files[0])},C=async()=>{var e,a;if(!b.value)return;const l=new FormData;l.append("logo",b.value);try{p.value=!0;const u=await w.post("/admin/settings/logo",l);s.value.logo=u.data.logo,b.value=null,await n.fetchSettings(),c.success("Logo başarıyla yüklendi")}catch(u){console.error("Logo yükleme hatası:",u),c.error(((a=(e=u.response)==null?void 0:e.data)==null?void 0:a.message)||"Logo yüklenirken bir hata oluştu")}finally{p.value=!1}},F=async l=>{const e=l.target;e.files&&e.files[0]&&(f.value=e.files[0])},L=async()=>{var e,a;if(!f.value)return;const l=new FormData;l.append("favicon",f.value);try{v.value=!0;const u=await w.post("/admin/settings/favicon",l);s.value.favicon=u.data.favicon,f.value=null,await n.fetchSettings(),c.success("Favicon başarıyla yüklendi")}catch(u){console.error("Favicon yükleme hatası:",u),c.error(((a=(e=u.response)==null?void 0:e.data)==null?void 0:a.message)||"Favicon yüklenirken bir hata oluştu")}finally{v.value=!1}},V=async()=>{try{m.value=!0;const l={siteTitle:s.value.siteTitle,siteDescription:s.value.siteDescription,contactEmail:s.value.contactEmail,phoneNumber:s.value.phoneNumber,address:s.value.address,workingHoursWeekday:s.value.workingHoursWeekday,workingHoursSaturday:s.value.workingHoursSaturday,workingHoursSunday:s.value.workingHoursSunday,isOpenSaturday:s.value.isOpenSaturday,isOpenSunday:s.value.isOpenSunday};await n.updateContactInfo(l),c.success("İletişim bilgileri başarıyla güncellendi")}catch(l){console.error("İletişim bilgileri güncellenirken hata:",l),c.error("İletişim bilgileri güncellenirken bir hata oluştu")}finally{m.value=!1}},A=async()=>{h.value=!0;try{await V()}catch(l){console.error("Ayarlar kaydedilirken hata:",l),c.error("Ayarlar kaydedilirken bir hata oluştu")}finally{h.value=!1}};return N(async()=>{m.value=!0;try{const l=localStorage.getItem("siteSettings");if(l){const a=JSON.parse(l);s.value=a}await n.fetchSettings();const e={logo:n.logo,favicon:n.favicon,siteTitle:n.siteTitle,siteDescription:n.siteDescription,contactEmail:n.contactEmail,phoneNumber:n.phoneNumber,address:n.address,workingHoursWeekday:n.workingHoursWeekday,workingHoursSaturday:n.workingHoursSaturday,workingHoursSunday:n.workingHoursSunday,isOpenSaturday:n.isOpenSaturday,isOpenSunday:n.isOpenSunday};s.value=e,localStorage.setItem("siteSettings",JSON.stringify(e))}catch(l){console.error("Ayarlar yüklenirken hata:",l),c.error("Ayarlar yüklenirken bir hata oluştu")}finally{m.value=!1}}),(l,e)=>(i(),o("div",U,[m.value?(i(),o("div",W,e[10]||(e[10]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"},null,-1)]))):(i(),o("div",I,[e[27]||(e[27]=t("h2",{class:"text-2xl font-semibold mb-6"},"Site Ayarları",-1)),t("div",K,[e[13]||(e[13]=t("h3",{class:"text-lg font-semibold mb-4"},"Logo ve Favicon",-1)),t("div",B,[t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Site Logo ",-1)),t("div",M,[s.value.logo?(i(),o("img",{key:0,src:s.value.logo,alt:"Site Logo",class:"h-12 w-auto"},null,8,j)):g("",!0),t("div",G,[t("input",{type:"file",accept:"image/*",class:"hidden",ref_key:"logoInput",ref:k,onChange:O},null,544),t("div",J,[t("button",{onClick:_,disabled:p.value,class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 disabled:opacity-50"},[p.value?(i(),o("span",z,"Yükleniyor...")):(i(),o("span",P,"Logo Seç"))],8,Y),b.value?(i(),o("button",{key:0,onClick:C,disabled:p.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50"},[p.value?(i(),o("span",Q,"Kaydediliyor...")):(i(),o("span",R,"Logo Kaydet"))],8,q)):g("",!0)])])]),p.value?(i(),o("p",X,"Logo yükleniyor, lütfen bekleyin...")):g("",!0)]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Favicon ",-1)),t("div",Z,[s.value.favicon?(i(),o("img",{key:0,src:s.value.favicon,alt:"Favicon",class:"h-8 w-8"},null,8,$)):g("",!0),t("div",ee,[t("input",{type:"file",accept:"image/x-icon,image/png",class:"hidden",ref_key:"faviconInput",ref:x,onChange:F},null,544),t("div",te,[t("button",{onClick:H,disabled:v.value,class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 disabled:opacity-50"},[v.value?(i(),o("span",ae,"Yükleniyor...")):(i(),o("span",le,"Favicon Seç"))],8,se),f.value?(i(),o("button",{key:0,onClick:L,disabled:v.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50"},[v.value?(i(),o("span",ie,"Kaydediliyor...")):(i(),o("span",ne,"Favicon Kaydet"))],8,oe)):g("",!0)])])]),v.value?(i(),o("p",re,"Favicon yükleniyor, lütfen bekleyin...")):g("",!0)])])]),t("div",de,[e[16]||(e[16]=t("h3",{class:"text-lg font-semibold mb-4"},"Genel Bilgiler",-1)),t("div",ue,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Site Başlığı ",-1)),d(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>s.value.siteTitle=a),type:"text",class:"input w-full",placeholder:"Site başlığını girin"},null,512),[[y,s.value.siteTitle]])]),t("div",ce,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Site Açıklaması ",-1)),d(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.siteDescription=a),rows:"3",class:"input w-full",placeholder:"Site açıklamasını girin"},null,512),[[y,s.value.siteDescription]])])]),t("div",ye,[e[20]||(e[20]=t("h3",{class:"text-lg font-semibold mb-4"},"İletişim Bilgileri",-1)),t("div",me,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," E-posta Adresi ",-1)),d(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>s.value.contactEmail=a),type:"email",class:"input w-full",placeholder:"E-posta adresini girin"},null,512),[[y,s.value.contactEmail]])]),t("div",pe,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Telefon Numarası ",-1)),d(t("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>s.value.phoneNumber=a),type:"text",class:"input w-full",placeholder:"Telefon numarasını girin"},null,512),[[y,s.value.phoneNumber]])]),t("div",ve,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Adres ",-1)),d(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=a=>s.value.address=a),rows:"3",class:"input w-full",placeholder:"Adres bilgisini girin"},null,512),[[y,s.value.address]])])]),t("div",ge,[e[26]||(e[26]=t("h3",{class:"text-lg font-semibold mb-4"},"Çalışma Saatleri",-1)),t("div",be,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Hafta İçi Çalışma Saatleri ",-1)),d(t("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>s.value.workingHoursWeekday=a),type:"text",class:"input w-full",placeholder:"Örn: 09:00 - 18:00"},null,512),[[y,s.value.workingHoursWeekday]])]),t("div",fe,[t("div",ke,[e[23]||(e[23]=t("label",{class:"text-sm font-medium text-gray-700 flex-grow"}," Cumartesi Çalışma Saatleri ",-1)),t("div",xe,[d(t("input",{"onUpdate:modelValue":e[6]||(e[6]=a=>s.value.isOpenSaturday=a),type:"checkbox",class:"mr-2"},null,512),[[S,s.value.isOpenSaturday]]),e[22]||(e[22]=t("span",{class:"text-sm text-gray-600"},"Açık",-1))])]),d(t("input",{"onUpdate:modelValue":e[7]||(e[7]=a=>s.value.workingHoursSaturday=a),type:"text",class:"input w-full",placeholder:"Örn: 09:00 - 14:00",disabled:!s.value.isOpenSaturday},null,8,he),[[y,s.value.workingHoursSaturday]])]),t("div",Se,[t("div",we,[e[25]||(e[25]=t("label",{class:"text-sm font-medium text-gray-700 flex-grow"}," Pazar Çalışma Saatleri ",-1)),t("div",_e,[d(t("input",{"onUpdate:modelValue":e[8]||(e[8]=a=>s.value.isOpenSunday=a),type:"checkbox",class:"mr-2"},null,512),[[S,s.value.isOpenSunday]]),e[24]||(e[24]=t("span",{class:"text-sm text-gray-600"},"Açık",-1))])]),d(t("input",{"onUpdate:modelValue":e[9]||(e[9]=a=>s.value.workingHoursSunday=a),type:"text",class:"input w-full",placeholder:"Örn: Kapalı",disabled:!s.value.isOpenSunday},null,8,He),[[y,s.value.workingHoursSunday]])])]),t("div",Oe,[t("button",{onClick:A,disabled:m.value,class:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50"},[m.value?(i(),o("span",Fe,"Kaydediliyor...")):(i(),o("span",Le,"Ayarları Kaydet"))],8,Ce)])]))]))}});export{Ne as default};
