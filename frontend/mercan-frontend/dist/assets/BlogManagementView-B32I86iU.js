import{d as z,z as S,r as g,o as D,c as n,b as i,e as t,q as Y,j as V,F as p,h as f,t as o,n as C,D as M,k as d,v as y,s as k}from"./index-BZ80cgwK.js";const U={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-8"},T={class:"overflow-x-auto"},j={class:"w-full"},q={class:"px-4 py-3 text-sm text-gray-900 dark:text-white"},K={class:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300"},E={class:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300"},I={class:"px-4 py-3"},O={class:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300"},L={class:"px-4 py-3 text-right space-x-2"},N=["onClick"],A=["onClick"],F={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center"},G={class:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-4xl"},R={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},$={class:"grid grid-cols-2 gap-4"},P=["value"],W={class:"flex justify-end space-x-4 mt-6"},Z={type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"},Q=z({__name:"BlogManagementView",setup(H){const m=S(),s=g([]),c=g([{id:1,name:"Dijital Pazarlama"},{id:2,name:"Web Tasarım"},{id:3,name:"SEO"},{id:4,name:"Sosyal Medya"},{id:5,name:"Yapay Zeka"}]),x=g(!1),u=g(!1),r=g({id:0,title:"",content:"",excerpt:"",featured_image:"",author_name:"",category_id:1,category_name:"",published_at:new Date().toISOString(),tags:[],status:"draft"});D(async()=>{try{await m.fetchBlogs(),s.value=m.getBlogs}catch(l){console.error("Bloglar yüklenirken hata:",l)}});const v=()=>{u.value=!1,r.value={id:Math.max(0,...s.value.map(l=>l.id))+1,title:"",content:"",excerpt:"",featured_image:"",author_name:"Admin",category_id:1,category_name:"",published_at:new Date().toISOString(),tags:[],status:"draft"},x.value=!0},w=l=>{u.value=!0,r.value={...l},x.value=!0},h=async l=>{if(confirm("Bu blog yazısını silmek istediğinizden emin misiniz?"))try{s.value=s.value.filter(e=>e.id!==l)}catch(e){console.error("Blog silinirken hata:",e)}},_=async()=>{try{if(u.value){const l=s.value.findIndex(e=>e.id===r.value.id);l!==-1&&(s.value[l]={...r.value})}else s.value.push({...r.value});b()}catch(l){console.error("Blog kaydedilirken hata:",l)}},b=()=>{x.value=!1,r.value={id:0,title:"",content:"",excerpt:"",featured_image:"",author_name:"",category_id:1,category_name:"",published_at:new Date().toISOString(),tags:[],status:"draft"}};return(l,e)=>(i(),n("div",null,[e[20]||(e[20]=t("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-8"},"Blog Yönetimi",-1)),t("div",U,[t("div",{class:"flex justify-between items-center mb-6"},[e[8]||(e[8]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Blog Yazıları",-1)),t("button",{onClick:v,class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"},e[7]||(e[7]=[t("i",{class:"fas fa-plus mr-2"},null,-1),V("Yeni Blog Yazısı ")]))]),t("div",T,[t("table",j,[e[11]||(e[11]=t("thead",null,[t("tr",{class:"border-b border-gray-200 dark:border-gray-700"},[t("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-400"},"Başlık"),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-400"},"Kategori"),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-400"},"Yazar"),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-400"},"Durum"),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-400"},"Yayın Tarihi"),t("th",{class:"px-4 py-3 text-right text-sm font-medium text-gray-500 dark:text-gray-400"},"İşlemler")])],-1)),t("tbody",null,[(i(!0),n(p,null,f(s.value,a=>(i(),n("tr",{key:a.id,class:"border-b border-gray-200 dark:border-gray-700"},[t("td",q,o(a.title),1),t("td",K,o(a.category_name),1),t("td",E,o(a.author_name),1),t("td",I,[t("span",{class:C({"px-2 py-1 text-xs rounded-full":!0,"bg-green-100 text-green-800":a.status==="published","bg-yellow-100 text-yellow-800":a.status==="draft"})},o(a.status==="published"?"Yayında":"Taslak"),3)]),t("td",O,o(new Date(a.published_at).toLocaleDateString("tr-TR")),1),t("td",L,[t("button",{onClick:B=>w(a),class:"text-blue-500 hover:text-blue-600"},e[9]||(e[9]=[t("i",{class:"fas fa-edit"},null,-1)]),8,N),t("button",{onClick:B=>h(a.id),class:"text-red-500 hover:text-red-600"},e[10]||(e[10]=[t("i",{class:"fas fa-trash"},null,-1)]),8,A)])]))),128))])])])]),x.value?(i(),n("div",F,[t("div",G,[t("h3",R,o(u.value?"Blog Yazısı Düzenle":"Yeni Blog Yazısı"),1),t("form",{onSubmit:M(_,["prevent"]),class:"space-y-4"},[t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Başlık ",-1)),d(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>r.value.title=a),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:""},null,512),[[y,r.value.title]])]),t("div",$,[t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Kategori ",-1)),d(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.value.category_id=a),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:""},[(i(!0),n(p,null,f(c.value,a=>(i(),n("option",{key:a.id,value:a.id},o(a.name),9,P))),128))],512),[[k,r.value.category_id]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Durum ",-1)),d(t("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>r.value.status=a),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},e[14]||(e[14]=[t("option",{value:"draft"},"Taslak",-1),t("option",{value:"published"},"Yayında",-1)]),512),[[k,r.value.status]])])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Özet ",-1)),d(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=a=>r.value.excerpt=a),rows:"3",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:""},null,512),[[y,r.value.excerpt]])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," İçerik ",-1)),d(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=a=>r.value.content=a),rows:"10",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:""},null,512),[[y,r.value.content]])]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Öne Çıkan Görsel URL ",-1)),d(t("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>r.value.featured_image=a),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[y,r.value.featured_image]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Etiketler (virgülle ayırın) ",-1)),d(t("input",{"onUpdate:modelValue":e[6]||(e[6]=a=>r.value.tags=a),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"örnek, etiket, blog"},null,512),[[y,r.value.tags]])]),t("div",W,[t("button",{type:"button",onClick:b,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 dark:text-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600"}," İptal "),t("button",Z,o(u.value?"Güncelle":"Kaydet"),1)])],32)])])):Y("",!0)]))}});export{Q as default};
