import{d as A,r as u,m as N,c as g,b as m,e,q as S,k as s,s as x,f as O,v as o,F as E,h as F,t as d,n as K,D as L}from"./index-Bj8UE4BS.js";const M={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-8"},B={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},P={class:"flex space-x-2"},Y={class:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden"},z={class:"overflow-x-auto"},I={class:"w-full"},R={class:"divide-y divide-gray-200 dark:divide-gray-700"},_={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},j={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},H={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},$={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},q={class:"px-6 py-4 whitespace-nowrap"},G={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},J={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2"},Q=["onClick"],W=["onClick"],X={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center"},Z={class:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl"},ee={class:"grid grid-cols-2 gap-4"},re=A({__name:"PaymentsView",setup(te){const y=u([{id:1,islemNo:"ODM001",musteriAdi:"Ahmet Yılmaz",tutar:4999.99,yontem:"kredi_karti",durum:"onaylandi",tarih:"2024-02-28T10:00:00",notlar:"Ödeme başarıyla tamamlandı"},{id:2,islemNo:"ODM002",musteriAdi:"Ayşe Demir",tutar:2499.99,yontem:"havale",durum:"beklemede",tarih:"2024-02-28T11:30:00"}]),l=u({durum:"",baslangicTarihi:"",bitisTarihi:"",yontem:"",arama:""}),p=u(!1),i=u({id:0,islemNo:"",musteriAdi:"",tutar:0,yontem:"kredi_karti",durum:"beklemede",tarih:new Date().toISOString(),notlar:""}),v=N(()=>y.value.filter(r=>{const t=!l.value.durum||r.durum===l.value.durum,a=!l.value.yontem||r.yontem===l.value.yontem,n=new Date(r.tarih),c=l.value.baslangicTarihi?new Date(l.value.baslangicTarihi):null,k=l.value.bitisTarihi?new Date(l.value.bitisTarihi):null,U=(!c||n>=c)&&(!k||n<=k),V=!l.value.arama||r.islemNo.toLowerCase().includes(l.value.arama.toLowerCase())||r.musteriAdi.toLowerCase().includes(l.value.arama.toLowerCase());return t&&a&&U&&V})),f=r=>r.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2}),w=r=>{switch(r){case"kredi_karti":return"Kredi Kartı";case"havale":return"Havale/EFT";case"paypal":return"PayPal";default:return r}},h=r=>{switch(r){case"beklemede":return"bg-yellow-100 text-yellow-800";case"onaylandi":return"bg-green-100 text-green-800";case"iptal":return"bg-red-100 text-red-800";case"iade":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},T=r=>{i.value={...r},p.value=!0},D=r=>{console.log("Ödeme detayı:",r)},C=async()=>{try{const r=y.value.findIndex(t=>t.id===i.value.id);r!==-1&&(y.value[r]={...i.value}),b()}catch(r){console.error("Ödeme kaydedilirken hata:",r)}},b=()=>{p.value=!1,i.value={id:0,islemNo:"",musteriAdi:"",tutar:0,yontem:"kredi_karti",durum:"beklemede",tarih:new Date().toISOString(),notlar:""}};return(r,t)=>(m(),g("div",null,[t[23]||(t[23]=e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-8"},"Ödeme Yönetimi",-1)),e("div",M,[e("div",B,[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Durum ",-1)),s(e("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>l.value.durum=a),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},t[8]||(t[8]=[O('<option value="">Tümü</option><option value="beklemede">Beklemede</option><option value="onaylandi">Onaylandı</option><option value="iptal">İptal Edildi</option><option value="iade">İade Edildi</option>',5)]),512),[[x,l.value.durum]])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Tarih Aralığı ",-1)),e("div",P,[s(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>l.value.baslangicTarihi=a),type:"date",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[o,l.value.baslangicTarihi]]),s(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>l.value.bitisTarihi=a),type:"date",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[o,l.value.bitisTarihi]])])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Ödeme Yöntemi ",-1)),s(e("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>l.value.yontem=a),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},t[11]||(t[11]=[e("option",{value:""},"Tümü",-1),e("option",{value:"kredi_karti"},"Kredi Kartı",-1),e("option",{value:"havale"},"Havale/EFT",-1),e("option",{value:"paypal"},"PayPal",-1)]),512),[[x,l.value.yontem]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Arama ",-1)),s(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>l.value.arama=a),type:"text",placeholder:"İşlem no veya müşteri adı",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[o,l.value.arama]])])])]),e("div",Y,[e("div",z,[e("table",I,[t[16]||(t[16]=e("thead",null,[e("tr",{class:"bg-gray-50 dark:bg-gray-700"},[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," İşlem No "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Müşteri "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Tutar "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Yöntem "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Durum "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Tarih "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," İşlemler ")])],-1)),e("tbody",R,[(m(!0),g(E,null,F(v.value,a=>(m(),g("tr",{key:a.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",_," #"+d(a.islemNo),1),e("td",j,d(a.musteriAdi),1),e("td",H,d(f(a.tutar))+" ₺ ",1),e("td",$,d(w(a.yontem)),1),e("td",q,[e("span",{class:K([h(a.durum),"px-2 py-1 text-xs rounded-full"])},d(a.durum),3)]),e("td",G,d(new Date(a.tarih).toLocaleDateString("tr-TR")),1),e("td",J,[e("button",{onClick:n=>T(a),class:"text-blue-500 hover:text-blue-600"},t[14]||(t[14]=[e("i",{class:"fas fa-edit"},null,-1)]),8,Q),e("button",{onClick:n=>D(a.id),class:"text-gray-500 hover:text-gray-600"},t[15]||(t[15]=[e("i",{class:"fas fa-eye"},null,-1)]),8,W)])]))),128))])])])]),p.value?(m(),g("div",X,[e("div",Z,[t[22]||(t[22]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Ödeme Düzenle ",-1)),e("form",{onSubmit:L(C,["prevent"]),class:"space-y-4"},[e("div",ee,[e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Ödeme Durumu ",-1)),s(e("select",{"onUpdate:modelValue":t[5]||(t[5]=a=>i.value.durum=a),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},t[17]||(t[17]=[e("option",{value:"beklemede"},"Beklemede",-1),e("option",{value:"onaylandi"},"Onaylandı",-1),e("option",{value:"iptal"},"İptal Edildi",-1),e("option",{value:"iade"},"İade Edildi",-1)]),512),[[x,i.value.durum]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," İşlem Tarihi ",-1)),s(e("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>i.value.tarih=a),type:"datetime-local",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[o,i.value.tarih]])])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Notlar ",-1)),s(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=a=>i.value.notlar=a),rows:"4",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[o,i.value.notlar]])]),e("div",{class:"flex justify-end space-x-4 mt-6"},[e("button",{type:"button",onClick:b,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 dark:text-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600"}," İptal "),t[21]||(t[21]=e("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"}," Kaydet ",-1))])],32)])])):S("",!0)]))}});export{re as default};
