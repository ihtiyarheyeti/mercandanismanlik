import{d as S,r as n,m as C,c as x,b as p,e,l as D,k as d,v as y,s as b,j as _,F as V,h as U,t as s,n as f,D as j}from"./index-Cnce9ua8.js";const E={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6"},G={class:"flex justify-between items-center mb-6"},L={class:"flex items-center space-x-4"},z={class:"overflow-x-auto"},I={class:"w-full"},M={class:"px-4 py-3"},q={class:"flex items-center"},O=["src","alt"],R={class:"font-medium text-gray-900 dark:text-white"},B={class:"text-sm text-gray-500 dark:text-gray-400"},T={class:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300"},N={class:"px-4 py-3"},Y={class:"px-4 py-3"},F={class:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300"},P={class:"px-4 py-3 text-right space-x-2"},$=["onClick"],H=["onClick"],J={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center"},Q={class:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-lg"},W={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},X={class:"flex justify-end space-x-4 mt-6"},Z={type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"},ae=S({__name:"UsersView",setup(ee){const o=n([{id:1,ad:"Admin Kullanıcı",kullaniciAdi:"admin",eposta:"admin@mercandanismanlik.com",avatar:"/images/avatars/admin.jpg",rol:"admin",durum:"aktif",sonGiris:new Date().toISOString()},{id:2,ad:"Editör Kullanıcı",kullaniciAdi:"editor",eposta:"editor@mercandanismanlik.com",avatar:"/images/avatars/editor.jpg",rol:"editor",durum:"aktif",sonGiris:new Date().toISOString()}]),i=n(""),g=n(""),m=n(!1),u=n(!1),r=n({id:0,ad:"",kullaniciAdi:"",eposta:"",avatar:"/images/avatars/default.jpg",rol:"user",durum:"aktif",sonGiris:new Date().toISOString()}),v=C(()=>o.value.filter(l=>{const t=!i.value||l.ad.toLowerCase().includes(i.value.toLowerCase())||l.kullaniciAdi.toLowerCase().includes(i.value.toLowerCase())||l.eposta.toLowerCase().includes(i.value.toLowerCase()),a=!g.value||l.rol===g.value;return t&&a})),k=()=>{u.value=!1,r.value={id:Math.max(0,...o.value.map(l=>l.id))+1,ad:"",kullaniciAdi:"",eposta:"",avatar:"/images/avatars/default.jpg",rol:"user",durum:"aktif",sonGiris:new Date().toISOString()},m.value=!0},w=l=>{u.value=!0,r.value={...l},m.value=!0},h=async l=>{if(confirm("Bu kullanıcıyı silmek istediğinizden emin misiniz?"))try{o.value=o.value.filter(t=>t.id!==l)}catch(t){console.error("Kullanıcı silinirken hata:",t)}},K=async()=>{try{if(u.value){const l=o.value.findIndex(t=>t.id===r.value.id);l!==-1&&(o.value[l]={...r.value})}else o.value.push({...r.value});c()}catch(l){console.error("Kullanıcı kaydedilirken hata:",l)}},c=()=>{m.value=!1,r.value={id:0,ad:"",kullaniciAdi:"",eposta:"",avatar:"/images/avatars/default.jpg",rol:"user",durum:"aktif",sonGiris:new Date().toISOString()}};return(l,t)=>(p(),x("div",null,[t[19]||(t[19]=e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-8"},"Kullanıcı Yönetimi",-1)),e("div",E,[e("div",G,[e("div",L,[d(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>i.value=a),placeholder:"Kullanıcı ara...",class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[y,i.value]]),d(e("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>g.value=a),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},t[7]||(t[7]=[e("option",{value:""},"Tüm Roller",-1),e("option",{value:"admin"},"Admin",-1),e("option",{value:"editor"},"Editör",-1),e("option",{value:"user"},"Kullanıcı",-1)]),512),[[b,g.value]])]),e("button",{onClick:k,class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"},t[8]||(t[8]=[e("i",{class:"fas fa-plus mr-2"},null,-1),_("Yeni Kullanıcı ")]))]),e("div",z,[e("table",I,[t[11]||(t[11]=e("thead",null,[e("tr",{class:"border-b border-gray-200 dark:border-gray-700"},[e("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-400"},"Kullanıcı"),e("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-400"},"E-posta"),e("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-400"},"Rol"),e("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-400"},"Durum"),e("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-400"},"Son Giriş"),e("th",{class:"px-4 py-3 text-right text-sm font-medium text-gray-500 dark:text-gray-400"},"İşlemler")])],-1)),e("tbody",null,[(p(!0),x(V,null,U(v.value,a=>(p(),x("tr",{key:a.id,class:"border-b border-gray-200 dark:border-gray-700"},[e("td",M,[e("div",q,[e("img",{src:a.avatar,alt:a.ad,class:"h-8 w-8 rounded-full mr-3"},null,8,O),e("div",null,[e("div",R,s(a.ad),1),e("div",B,s(a.kullaniciAdi),1)])])]),e("td",T,s(a.eposta),1),e("td",N,[e("span",{class:f({"px-2 py-1 text-xs rounded-full":!0,"bg-blue-100 text-blue-800":a.rol==="admin","bg-green-100 text-green-800":a.rol==="editor","bg-gray-100 text-gray-800":a.rol==="user"})},s(a.rol),3)]),e("td",Y,[e("span",{class:f({"px-2 py-1 text-xs rounded-full":!0,"bg-green-100 text-green-800":a.durum==="aktif","bg-red-100 text-red-800":a.durum==="pasif"})},s(a.durum==="aktif"?"Aktif":"Pasif"),3)]),e("td",F,s(new Date(a.sonGiris).toLocaleDateString("tr-TR")),1),e("td",P,[e("button",{onClick:A=>w(a),class:"text-blue-500 hover:text-blue-600"},t[9]||(t[9]=[e("i",{class:"fas fa-edit"},null,-1)]),8,$),e("button",{onClick:A=>h(a.id),class:"text-red-500 hover:text-red-600"},t[10]||(t[10]=[e("i",{class:"fas fa-trash"},null,-1)]),8,H)])]))),128))])])])]),m.value?(p(),x("div",J,[e("div",Q,[e("h3",W,s(u.value?"Kullanıcı Düzenle":"Yeni Kullanıcı Ekle"),1),e("form",{onSubmit:j(K,["prevent"]),class:"space-y-4"},[e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Ad Soyad ",-1)),d(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>r.value.ad=a),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:""},null,512),[[y,r.value.ad]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Kullanıcı Adı ",-1)),d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>r.value.kullaniciAdi=a),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:""},null,512),[[y,r.value.kullaniciAdi]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," E-posta ",-1)),d(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>r.value.eposta=a),type:"email",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:""},null,512),[[y,r.value.eposta]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Rol ",-1)),d(e("select",{"onUpdate:modelValue":t[5]||(t[5]=a=>r.value.rol=a),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:""},t[15]||(t[15]=[e("option",{value:"admin"},"Admin",-1),e("option",{value:"editor"},"Editör",-1),e("option",{value:"user"},"Kullanıcı",-1)]),512),[[b,r.value.rol]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Durum ",-1)),d(e("select",{"onUpdate:modelValue":t[6]||(t[6]=a=>r.value.durum=a),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:""},t[17]||(t[17]=[e("option",{value:"aktif"},"Aktif",-1),e("option",{value:"pasif"},"Pasif",-1)]),512),[[b,r.value.durum]])]),e("div",X,[e("button",{type:"button",onClick:c,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 dark:text-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600"}," İptal "),e("button",Z,s(u.value?"Güncelle":"Kaydet"),1)])],32)])])):D("",!0)]))}});export{ae as default};
